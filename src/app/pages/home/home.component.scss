// ==========================================
// HOME COMPONENT — Theme-aware styles
// Uses CSS custom properties from global styles
// ==========================================

$font-arabic-only: 'Cairo', sans-serif;
$transition-base:   all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
$transition-fast:   all 0.2s ease;
$transition-slow:   all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
$transition-smooth: all 0.7s cubic-bezier(0.4, 0, 0.2, 1);

// ==========================================
// HOME CONTAINER
// ==========================================
.home-container {
  width: 100%;
  min-height: 100vh;
  position: relative;
  overflow-x: hidden;
  font-family: $font-arabic-only;
}

// ==========================================
// SECTION SEPARATOR
// ==========================================
.section-separator {
  width: 100%;
  padding: 3rem 0;
  display: flex;
  align-items: center;
  justify-content: center;

  @media (max-width: 991px) { padding: 2.5rem 0; }
  @media (max-width: 575px) { padding: 2rem 0; }

  .separator-line {
    width: 80%;
    max-width: 600px;
    height: 2px;
    background: linear-gradient(to right, transparent 0%, var(--green-border) 50%, transparent 100%);
    position: relative;

    &::before {
      content: '';
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 8px;
      height: 8px;
      background: var(--green);
      border-radius: 50%;
      box-shadow: 0 0 20px var(--green-glow);
    }

    @media (max-width: 575px) { width: 90%; height: 1px; &::before { width: 6px; height: 6px; } }
  }
}

// ==========================================
// HERO SECTION
// ==========================================
.hero-section {
  position: relative;
  width: 100%;
  min-height: 600px;
  height: 85vh;
  max-height: 950px;
  display: flex;
  align-items: center;
  overflow: hidden;

  @media (max-width: 991px) { min-height: 500px; height: 80vh; }
  @media (max-width: 575px) { min-height: 560px; height: auto; padding: 120px 0 90px; }
}

.hero-background {
  position: absolute;
  inset: 0;
  z-index: 0;
}

.background-image-wrapper {
  position: relative;
  width: 100%;
  height: 100%;
  overflow: hidden;

  .background-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    animation: imageZoom 22s ease-in-out infinite alternate;

    // Dark mode: dimmed enough for text, showing the image atmosphere
    opacity: 0.6;
    filter: brightness(0.72) saturate(1.1);

    // Light mode: brighter image, desaturated slightly
    [data-theme="light"] & {
      opacity: 0.50;
      filter: brightness(0.80) saturate(0.85) sepia(0.06);
    }

    @media (max-width: 991px) {
      opacity: 0.50;
      [data-theme="light"] & { opacity: 0.38; }
    }
  }

  // ─── Professional overlay strategy ────────────────────────────────────
  // Instead of a single flat overlay that kills the whole image,
  // we use three composited gradients (all in one background shorthand):
  //   1. Side sweep  — creates the readable text zone from the content side
  //   2. Bottom vignette — grounds the section and darkens where badges sit
  //   3. Top edge — soften the very top so navbar transition is smooth
  //
  // Dark mode: deep navy-black, preserving image on the far side
  // Light mode: cool slate-white, no bleaching, just enough contrast
  .background-overlay {
    position: absolute;
    inset: 0;

    // Dark theme overlay
    background:
      linear-gradient(                    // 1. side sweep (RTL → from right)
        to left,
        rgba(6, 9, 18, 0.96)  0%,
        rgba(8, 12, 24, 0.88) 22%,
        rgba(10, 16, 30, 0.68) 45%,
        rgba(12, 18, 34, 0.30) 68%,
        transparent           100%
      ),
      linear-gradient(                    // 2. bottom vignette
        to top,
        rgba(6, 9, 18, 0.92)  0%,
        rgba(6, 9, 18, 0.50)  20%,
        transparent            45%
      ),
      linear-gradient(                    // 3. top edge
        to bottom,
        rgba(6, 9, 18, 0.55) 0%,
        transparent           28%
      );

    [data-theme="light"] & {
      background:
        linear-gradient(
          to left,
          rgba(232, 240, 252, 0.97) 0%,
          rgba(228, 237, 250, 0.88) 22%,
          rgba(222, 233, 247, 0.65) 45%,
          rgba(216, 228, 244, 0.28) 68%,
          transparent               100%
        ),
        linear-gradient(
          to top,
          rgba(225, 235, 250, 0.90) 0%,
          rgba(220, 232, 248, 0.48) 20%,
          transparent               45%
        ),
        linear-gradient(
          to bottom,
          rgba(228, 238, 252, 0.58) 0%,
          transparent               28%
        );
    }

    @media (max-width: 991px) {
      // Mobile: full-bleed vertical gradient (no side sweep needed)
      background:
        linear-gradient(
          to bottom,
          rgba(6, 9, 18, 0.72)  0%,
          rgba(6, 9, 18, 0.55)  40%,
          rgba(6, 9, 18, 0.90)  100%
        );

      [data-theme="light"] & {
        background:
          linear-gradient(
            to bottom,
            rgba(228, 238, 252, 0.82) 0%,
            rgba(220, 232, 248, 0.62) 40%,
            rgba(215, 228, 246, 0.92) 100%
          );
      }
    }
  }
}

// Animated accent lines
.accent-line {
  position: absolute;
  background: linear-gradient(90deg, transparent, var(--green), transparent);
  animation: accentMove 9s ease-in-out infinite;
  opacity: 0.2;

  [data-theme="light"] & { opacity: 0.10; }

  &.accent-line-1 {
    top: 18%;
    right: -50%;
    width: 100%;
    height: 1px;
    transform: rotate(-18deg);
    animation-delay: 0s;
  }

  &.accent-line-2 {
    top: 58%;
    left: -50%;
    width: 80%;
    height: 2px;
    transform: rotate(14deg);
    animation-delay: 4.5s;
  }

  @media (max-width: 991px) { display: none; }
}

// ==========================================
// HERO CONTENT WRAPPER
// ==========================================
.hero-content-wrapper {
  position: relative;
  z-index: 10;
  width: 100%;
  height: 100%;
  display: flex;
  align-items: center;
  padding: 2rem 0;

  @media (max-width: 575px) { padding: 0; }

  .container {
    max-width: 1320px;
    margin: 0 auto;
    padding: 0 2.5rem;
    width: 100%;

    @media (max-width: 767px) { padding: 0 1.5rem; }
    @media (max-width: 575px) { padding: 0 1.25rem; }
  }
}

.hero-content {
  max-width: 760px;
  @media (max-width: 991px) { max-width: 100%; }
}

// ==========================================
// HERO TITLE
// ==========================================
.hero-title {
  font-size: clamp(2.4rem, 7.5vw, 4.8rem);
  font-weight: 900;
  line-height: 1.12;
  margin-bottom: 1.5rem;
  color: white;

  @media (max-width: 575px) { margin-bottom: 1.25rem; }

  .title-main {
    display: block;
    animation: fadeInRight 0.8s ease-out 0.2s backwards;
  }

  .title-highlight {
    display: block;
    color: var(--green);
    animation: fadeInRight 0.8s ease-out 0.4s backwards, textGlow 3.5s ease-in-out infinite alternate;
    position: relative;
    padding-bottom: 0.2em;

    &::after {
      content: '';
      position: absolute;
      bottom: -6px;
      right: 0;
      width: 180px;
      height: 3px;
      background: linear-gradient(90deg, var(--green), transparent);
      border-radius: 2px;
      box-shadow: 0 0 10px var(--green-glow);
      animation: lineExpand 1s ease-out 0.8s backwards;

      @media (max-width: 575px) { width: 130px; height: 2px; }
    }
  }
}

// ==========================================
// HERO SUBTITLE
// ==========================================
.hero-subtitle {
  font-size: clamp(1rem, 2.2vw, 1.3rem);
  line-height: 1.85;
  color: #ffffff;
  margin-bottom: 2.5rem;
  max-width: 620px;
  animation: fadeInUp 0.8s ease-out 0.6s backwards;

  @media (max-width: 575px) { margin-bottom: 2rem; }
}

// ==========================================
// HERO ACTIONS
// ==========================================
.hero-actions {
  display: flex;
  align-items: center;
  gap: 1.25rem;
  flex-wrap: wrap;
  margin-bottom: 3rem;
  animation: fadeInUp 0.8s ease-out 0.8s backwards;

  @media (max-width: 575px) { gap: 1rem; margin-bottom: 2.5rem; }
}

.hero-button {
  display: inline-flex;
  align-items: center;
  gap: 0.75rem;
  padding: 1rem 2.25rem;
  font-size: 1.05rem;
  font-weight: 700;
  text-decoration: none;
  border-radius: 50px;
  transition: $transition-base;
  position: relative;
  overflow: hidden;
  white-space: nowrap;
  border: 2px solid transparent;
  font-family: $font-arabic-only;

  @media (max-width: 575px) {
    padding: 0.9rem 1.75rem;
    font-size: 1rem;
    width: 100%;
    justify-content: center;
  }

  .button-text { position: relative; z-index: 2; transition: $transition-fast; }
  .button-icon { display: flex; align-items: center; position: relative; z-index: 2; transition: $transition-fast; svg { transform: rotate(180deg); } }

  &.hero-button-primary {
    background: var(--green);
    color: #ffffff !important;
    box-shadow: 0 4px 22px var(--green-glow);

    // Ensure button text and icon are white in both themes
    .button-text,
    .button-icon {
      color: #ffffff !important;
    }

    &::before {
      content: '';
      position: absolute;
      top: 50%; right: 50%;
      width: 0; height: 0;
      background: rgba(255, 255, 255, 0.25);
      border-radius: 50%;
      transform: translate(50%, -50%);
      transition: width 0.5s ease, height 0.5s ease;
    }

    &:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 32px var(--green-shadow);
      color: #ffffff !important;
      &::before { width: 420px; height: 420px; }
      .button-icon { transform: translateX(-5px); }

      .button-text,
      .button-icon {
        color: #ffffff !important;
      }
    }

    &:active { transform: translateY(-1px); }
  }

  &.hero-button-secondary {
    background: rgba(255, 255, 255, 0.12);
    color: #ffffff !important;
    border-color: rgba(255, 255, 255, 0.30);
    backdrop-filter: blur(12px);

    // Ensure button text is white in both themes
    .button-text {
      color: #ffffff !important;
    }

    &::before {
      content: '';
      position: absolute;
      inset: 0;
      background: rgba(255, 255, 255, 0.08);
      opacity: 0;
      transition: $transition-base;
      border-radius: 50px;
    }

    &:hover {
      border-color: #ffffff;
      color: #ffffff !important;
      background: rgba(255, 255, 255, 0.20);
      transform: translateY(-3px);
      box-shadow: 0 6px 25px rgba(255, 255, 255, 0.25);
      &::before { opacity: 1; }

      .button-text {
        color: #ffffff !important;
      }
    }

    &:active { transform: translateY(-1px); }
  }

  &:focus-visible { outline: 3px solid var(--green); outline-offset: 4px; }
}

// ==========================================
// HERO BADGES
// ==========================================
.hero-badges {
  display: flex;
  align-items: center;
  gap: 2rem;
  flex-wrap: wrap;
  animation: fadeInUp 0.8s ease-out 1s backwards;

  @media (max-width: 767px) { gap: 1.5rem; }
  @media (max-width: 575px) { justify-content: center; gap: 1.25rem; }

  .badge {
    display: flex;
    align-items: center;
    gap: 0.55rem;
    color: white;
    font-size: 0.93rem;
    font-weight: 500;
    transition: $transition-fast;

    svg { color: var(--green); flex-shrink: 0; filter: drop-shadow(0 0 6px var(--green-glow)); }

    &:hover {
      color: var(--text-primary);
      transform: translateY(-2px);
      svg { transform: scale(1.15); filter: drop-shadow(0 0 10px var(--green-shadow)); }
    }

    @media (max-width: 575px) { font-size: 0.88rem; }
  }
}

// ==========================================
// SCROLL INDICATOR
// ==========================================
.scroll-indicator {
  position: absolute;
  bottom: 2.5rem;
  left: 50%;
  transform: translateX(-50%);
  z-index: 20;
  animation: fadeIn 1s ease-out 1.5s backwards;

  @media (max-width: 575px) { display: none; }

  .scroll-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 42px;
    height: 42px;
    border-radius: 50%;
    background: var(--surface-1);
    backdrop-filter: blur(12px);
    border: 1px solid var(--border-medium);
    cursor: pointer;
    transition: $transition-base;
    animation: bounce 2.2s ease-in-out infinite;

    svg { color: var(--green); filter: drop-shadow(0 0 6px var(--green-glow)); }

    &:hover {
      background: var(--green-light);
      border-color: var(--green);
      transform: scale(1.1);
      svg { animation: arrowDown 0.6s ease infinite; }
    }
  }
}

// ==========================================
// PRODUCTS SECTION
// ==========================================
.products-section {
  position: relative;
  width: 100%;
  padding: 4rem 0;
  overflow: hidden;

  @media (max-width: 991px) { padding: 3rem 0; }
  @media (max-width: 575px) { padding: 2rem 0; }
}

.products-container {
  position: relative;
  z-index: 1;
  max-width: 1320px;
  margin: 0 auto;
  padding: 0 2rem;

  @media (max-width: 767px) { padding: 0 1.5rem; }
  @media (max-width: 575px) { padding: 0 1rem; }
}

.section-title {
  font-size: clamp(2rem, 5vw, 2.8rem);
  font-weight: 800;
  color: var(--text-primary);
  text-align: center;
  margin-bottom: 4rem;
  position: relative;

  @media (max-width: 991px) { margin-bottom: 3rem; }
  @media (max-width: 575px) { margin-bottom: 2.5rem; }

  &::after {
    content: '';
    position: absolute;
    bottom: -1rem;
    left: 50%;
    transform: translateX(-50%);
    width: 70px;
    height: 3px;
    background: linear-gradient(90deg, transparent, var(--green), transparent);
    border-radius: 2px;
    box-shadow: 0 0 16px var(--green-glow);

    @media (max-width: 575px) { width: 55px; bottom: -0.75rem; }
  }
}

.products-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1.5rem;

  @media (max-width: 1200px) { grid-template-columns: repeat(2, 1fr); gap: 1.25rem; }
  @media (max-width: 575px)  { grid-template-columns: 1fr; gap: 1.25rem; }
}

// Image-based category cards: overlay is always dark (photo under text)
.product-card {
  position: relative;
  display: block;
  height: 320px;
  border-radius: 20px;
  overflow: hidden;
  background: var(--bg-card);
  border: 1px solid var(--border-subtle);
  text-decoration: none;
  cursor: pointer;
  transition: $transition-base;
  box-shadow: var(--shadow-md);

  @media (max-width: 991px) { height: 280px; border-radius: 18px; }
  @media (max-width: 575px) { height: 260px; border-radius: 16px; }

  &:hover {
    transform: translateY(-8px);
    border-color: var(--green-border);
    box-shadow: var(--shadow-lg), var(--shadow-green), 0 0 0 1px var(--green-border);

    .product-image  { transform: scale(1.10); }
    .accent-border  { width: 100%; opacity: 1; }
    .hover-glow     { opacity: 1; }
    .product-title  { color: var(--green); text-shadow: 0 0 18px rgba(0, 255, 65, 0.5); }

    // Scoped product card hover effects
    .product-group {
      .product-cta-text { transform: translateX(-5px); }
      .product-cta-icon { transform: translateX(-3px); color: var(--green); }
    }
  }

  &:active { transform: translateY(-4px); }
  &:focus-visible { outline: 3px solid var(--green); outline-offset: 4px; }
}

.product-image-wrapper {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;

  .product-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    transition: transform 0.7s cubic-bezier(0.4, 0, 0.2, 1);
    filter: brightness(0.72);
  }

  // Always dark — the overlay must ensure white text is readable over photos
  .product-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(
      to top,
      rgba(4, 6, 12, 0.97) 0%,
      rgba(6, 9, 18, 0.68) 42%,
      rgba(8, 12, 22, 0.22) 100%
    );
    transition: $transition-smooth;
  }

  .product-card:hover & .product-overlay {
    background: linear-gradient(
      to top,
      rgba(4, 6, 12, 0.99) 0%,
      rgba(6, 9, 18, 0.80) 42%,
      rgba(8, 12, 22, 0.35) 100%
    );
  }
}

.accent-border {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 0;
  height: 3px;
  background: linear-gradient(90deg, transparent, var(--green));
  opacity: 0;
  transition: $transition-smooth;
  box-shadow: 0 0 12px var(--green-glow);

  @media (max-width: 575px) { height: 2px; }
}

.product-content {
  position: absolute;
  bottom: 0;
  right: 0;
  width: 100%;
  padding: 1.6rem;
  z-index: 10;

  @media (max-width: 575px) { padding: 1.35rem; }
}

// Always white — sits on the dark overlay over a photo
.product-title {
  font-size: clamp(1.25rem, 2.5vw, 1.65rem);
  font-weight: 700;
  color: #ffffff;
  margin-bottom: 0.7rem;
  line-height: 1.3;
  transition: $transition-base;
  text-shadow: 1px 2px 12px rgba(0, 0, 0, 0.6);

  @media (max-width: 575px) { margin-bottom: 0.6rem; }
}

// SCOPED PRODUCT CARD STYLES - prevents CTA section conflicts
.product-group {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  color: rgba(255, 255, 255, 0.82);
  font-size: 0.92rem;
  font-weight: 500;
  padding: 0.48rem 1rem;
  background: rgba(255, 255, 255, 0.12);
  backdrop-filter: blur(8px);
  border-radius: 50px;
  border: 1px solid rgba(255, 255, 255, 0.20);
  transition: $transition-base;

  @media (max-width: 575px) { font-size: 0.88rem; padding: 0.42rem 0.85rem; }

  .product-cta-text {
    transition: $transition-fast;
  }

  .product-cta-icon {
    display: flex;
    align-items: center;
    transition: $transition-base;
    color: rgba(255, 255, 255, 0.82);

    svg {
      flex-shrink: 0;
    }
  }
}

.hover-glow {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 50% 100%, var(--green-light) 0%, transparent 70%);
  opacity: 0;
  transition: $transition-smooth;
  pointer-events: none;
  z-index: 5;
}

// ==========================================
// WHY CHOOSE US
// ==========================================
.why-choose-section {
  position: relative;
  width: 100%;
  padding: 4rem 0;
  overflow: hidden;

  @media (max-width: 991px) { padding: 3rem 0; }
  @media (max-width: 575px) { padding: 2rem 0; }
}

.why-choose-container {
  position: relative;
  z-index: 1;
  max-width: 1320px;
  margin: 0 auto;
  padding: 2.5rem;
  background: var(--surface-1);
  border-radius: 2rem;
  border: 1px solid var(--border-subtle);
  box-shadow: var(--shadow-xl);

  @media (max-width: 991px) { padding: 2rem 1.5rem; border-radius: 1.5rem; }
  @media (max-width: 767px) { padding: 1.5rem 1.25rem; border-radius: 1.25rem; }
  @media (max-width: 575px) { padding: 1.5rem 1rem; border-radius: 1rem; margin: 0 1rem; }
}

.top-border-gradient {
  position: absolute;
  top: 0; left: 0;
  width: 100%;
  height: 2px;
  background: linear-gradient(to right, transparent 0%, var(--green) 50%, transparent 100%);
  opacity: 0.6;
  border-radius: 2rem 2rem 0 0;
}

.section-header {
  text-align: center;
  margin-bottom: 3rem;

  @media (max-width: 767px) { margin-bottom: 2.5rem; }
  @media (max-width: 575px) { margin-bottom: 2rem; }
}

.why-choose-section .section-title {
  font-size: clamp(1.75rem, 4vw, 2.5rem);
  font-weight: 800;
  color: var(--text-primary);
  margin: 0 0 1rem;
  line-height: 1.3;

  .brand-name { color: var(--green); text-shadow: 0 0 20px var(--green-glow); }
  &::after { display: none; }
}

.section-subtitle {
  font-size: clamp(0.95rem, 1.5vw, 1.08rem);
  color: var(--text-secondary);
  max-width: 42rem;
  margin: 0 auto;
  line-height: 1.75;

  @media (max-width: 575px) { line-height: 1.65; }
}

.features-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: 1.75rem;

  @media (max-width: 991px) { grid-template-columns: repeat(2, 1fr); gap: 1.5rem; }
  @media (max-width: 767px) { gap: 1.25rem; }
  @media (max-width: 575px) { grid-template-columns: 1fr; gap: 1rem; }
}

.feature-card {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  background: var(--surface-2);
  padding: 2rem 1.5rem;
  border-radius: 1.25rem;
  border: 1px solid var(--border-subtle);
  transition: $transition-base;
  overflow: hidden;
  box-shadow: var(--shadow-sm);

  @media (max-width: 767px) { padding: 1.75rem 1.25rem; border-radius: 1rem; }
  @media (max-width: 575px) { padding: 1.5rem 1rem; border-radius: 0.875rem; }

  &:hover {
    transform: translateY(-6px);
    border-color: var(--green-border);
    box-shadow: var(--shadow-lg), var(--shadow-green), 0 0 0 1px var(--green-border);

    .icon-container { background: var(--green-light); border-color: var(--green-border); transform: scale(1.06); box-shadow: 0 0 28px var(--green-glow); svg { transform: scale(1.12); filter: drop-shadow(0 0 8px var(--green-glow)); } }
    .feature-title  { color: var(--green); }
    .hover-glow     { opacity: 1; }
  }

  &:active { transform: translateY(-3px); }
  &:focus-visible { outline: 3px solid var(--green); outline-offset: 4px; }
}

.icon-container {
  width: 4rem;
  height: 4rem;
  background: var(--green-light);
  border: 1px solid var(--green-border);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 1.5rem;
  transition: $transition-base;
  color: var(--green);
  flex-shrink: 0;

  svg { transition: $transition-fast; }

  @media (max-width: 767px) { width: 3.5rem; height: 3.5rem; margin-bottom: 1.25rem; svg { width: 28px; height: 28px; } }
  @media (max-width: 575px) { width: 3rem;   height: 3rem;   margin-bottom: 1rem;    svg { width: 24px; height: 24px; } }
}

.feature-title {
  font-size: clamp(1.05rem, 2vw, 1.2rem);
  font-weight: 700;
  color: var(--text-primary);
  margin: 0 0 0.7rem;
  transition: $transition-base;
}

.feature-description {
  font-size: clamp(0.85rem, 1.5vw, 0.95rem);
  color: var(--text-secondary);
  margin: 0;
  line-height: 1.65;

  @media (max-width: 575px) { line-height: 1.55; }
}

// ==========================================
// CTA SECTION - SCOPED STYLES
// ==========================================
.cta-section {
  position: relative;
  width: 100%;
  padding: 3rem 0;
  overflow: hidden;

  @media (max-width: 991px) { padding: 2.5rem 0; }
  @media (max-width: 575px) { padding: 2rem 0; }

  // All CTA section styles are scoped within .cta-section
  .cta-container {
    position: relative;
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 2rem;

    @media (max-width: 767px) { padding: 0 1.5rem; }
    @media (max-width: 575px) { padding: 0 1rem; }
  }

  .cta-background {
    position: absolute;
    inset: 0;
    border-radius: 1.5rem;
    overflow: hidden;
    background: linear-gradient(
      135deg,
      var(--green-light) 0%,
      var(--surface-1) 100%
    );
    border: 1px solid var(--green-border);
    box-shadow: var(--shadow-xl), var(--shadow-green);

    @media (max-width: 575px) { border-radius: 1.25rem; }

    .pattern-circle {
      position: absolute;
      border-radius: 50%;
      background: radial-gradient(circle, var(--green-glow) 0%, transparent 70%);
      opacity: 0.15;
      animation: floatCircle 8s ease-in-out infinite;

      [data-theme="light"] & { opacity: 0.08; }
    }

    .pattern-circle-1 {
      width: 250px;
      height: 250px;
      top: -80px;
      right: -50px;
      animation-delay: 0s;
    }

    .pattern-circle-2 {
      width: 180px;
      height: 180px;
      bottom: -40px;
      left: 10%;
      animation-delay: 2s;
    }

    .pattern-circle-3 {
      width: 120px;
      height: 120px;
      top: 50%;
      left: -30px;
      animation-delay: 4s;
    }
  }

  .cta-content {
    position: relative;
    z-index: 10;
    display: grid;
    grid-template-columns: auto 1fr auto;
    align-items: center;
    gap: 2.5rem;
    padding: 2.5rem 3rem;

    @media (max-width: 991px) {
      grid-template-columns: 1fr;
      text-align: center;
      padding: 2.5rem 2rem;
      gap: 1.5rem;
    }
    @media (max-width: 767px) { padding: 2.25rem 1.75rem; }
    @media (max-width: 575px) { padding: 2rem 1.5rem; gap: 1.25rem; }
  }

  .cta-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 70px;
    height: 70px;
    background: var(--green-light);
    border: 2px solid var(--green-border);
    border-radius: 50%;
    color: var(--green);
    animation: pulseIcon 2.5s ease-in-out infinite;
    flex-shrink: 0;

    svg {
      filter: drop-shadow(0 0 8px var(--green-glow));
    }

    @media (max-width: 991px) {
      margin: 0 auto;
    }

    @media (max-width: 575px) {
      width: 60px;
      height: 60px;

      svg {
        width: 32px;
        height: 32px;
      }
    }
  }

  .cta-text-content {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;

    @media (max-width: 991px) {
      align-items: center;
    }
  }

  .cta-title {
    font-size: clamp(1.5rem, 3vw, 2rem);
    font-weight: 800;
    color: var(--text-primary);
    margin: 0;
    line-height: 1.25;
  }

  .cta-description {
    font-size: clamp(0.95rem, 1.5vw, 1.05rem);
    color: var(--text-secondary);
    margin: 0;
    line-height: 1.5;
    max-width: 500px;

    @media (max-width: 991px) {
      max-width: 100%;
    }
  }

  .cta-action-group {
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    gap: 1rem;
    flex-shrink: 0;

    @media (max-width: 991px) {
      align-items: center;
      width: 100%;
    }
  }

  // SCOPED CTA BUTTON - won't affect product cards
  .cta-button {
    display: inline-flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 2.5rem;
    font-size: 1.05rem;
    font-weight: 700;
    text-decoration: none;
    border-radius: 50px;
    background: var(--green);
    color: #ffffff !important;
    border: 2px solid var(--green);
    transition: $transition-base;
    position: relative;
    overflow: hidden;
    box-shadow: 0 6px 28px var(--green-glow);
    white-space: nowrap;

    @media (max-width: 575px) {
      padding: 0.95rem 2.25rem;
      font-size: 1rem;
    }

    .button-text,
    .button-icon {
      position: relative;
      z-index: 2;
      color: #ffffff !important;
      transition: $transition-fast;
    }

    .button-icon {
      display: flex;
      align-items: center;

      svg {
        filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
      }
    }

    &::before {
      content: '';
      position: absolute;
      top: 50%;
      right: 50%;
      width: 0;
      height: 0;
      background: rgba(255, 255, 255, 0.25);
      border-radius: 50%;
      transform: translate(50%, -50%);
      transition: width 0.5s ease, height 0.5s ease;
    }

    &:hover {
      transform: translateY(-3px);
      box-shadow: 0 10px 40px var(--green-shadow);
      border-color: var(--green);

      &::before {
        width: 500px;
        height: 500px;
      }

      .button-icon {
        transform: scale(1.1);
      }
    }

    &:active {
      transform: translateY(-1px);
    }

    &:focus-visible {
      outline: 3px solid var(--green);
      outline-offset: 4px;
    }
  }

  .cta-features {
    display: flex;
    align-items: center;
    gap: 1.5rem;
    flex-wrap: wrap;

    @media (max-width: 991px) {
      justify-content: center;
    }

    @media (max-width: 575px) {
      gap: 1rem;
    }
  }

  .cta-feature-item {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    color: var(--text-secondary);
    font-size: 0.9rem;
    font-weight: 500;

    svg {
      color: var(--green);
      flex-shrink: 0;
      filter: drop-shadow(0 0 4px var(--green-glow));
    }

    @media (max-width: 575px) {
      font-size: 0.85rem;
    }
  }
}

// ==========================================
// ANIMATIONS
// ==========================================
@keyframes fadeInUp    { from { opacity: 0; transform: translateY(36px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeInRight { from { opacity: 0; transform: translateX(44px); } to { opacity: 1; transform: translateX(0); } }
@keyframes fadeIn      { from { opacity: 0; } to { opacity: 1; } }
@keyframes lineExpand  { from { width: 0; } to { width: 180px; } }

@keyframes textGlow {
  0%, 100% { text-shadow: 0 0 28px var(--green-glow), 0 0 55px rgba(0, 255, 65, 0.12); }
  50%       { text-shadow: 0 0 40px var(--green-shadow), 0 0 80px var(--green-glow); }
}

@keyframes imageZoom { from { transform: scale(1); } to { transform: scale(1.08); } }

@keyframes accentMove {
  0%, 100% { transform: translateX(0) rotate(-18deg); }
  50%       { transform: translateX(28%) rotate(-18deg); }
}

@keyframes bounce  { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
@keyframes arrowDown { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(5px); } }

@keyframes floatCircle {
  0%, 100% {
    transform: translateY(0) scale(1);
  }
  50% {
    transform: translateY(-20px) scale(1.05);
  }
}

@keyframes pulseIcon {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 0 0 0 var(--green-glow);
  }
  50% {
    transform: scale(1.05);
    box-shadow: 0 0 20px var(--green-glow);
  }
}

// ==========================================
// ACCESSIBILITY
// ==========================================
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

@media (prefers-contrast: high) {
  .product-card, .feature-card { border-width: 2px; }
  .section-title::after, .hover-glow, .top-border-gradient { display: none; }
}

// ==========================================
// PRINT
// ==========================================
@media print {
  .home-container { background: white; }
  .hero-section { height: auto; min-height: 0; page-break-after: always; .scroll-indicator, .accent-line { display: none; } .background-image { opacity: 0.15 !important; } }
  .section-separator { display: none; }
  .products-section, .why-choose-section, .cta-section { page-break-inside: avoid; }
  .product-card, .feature-card { box-shadow: none; border: 2px solid #ccc; page-break-inside: avoid; &:hover { transform: none; } }
  .hover-glow, .accent-border, .top-border-gradient { display: none; }
}

// ==========================================
// RESPONSIVE FINE-TUNING
// ==========================================
@media (max-width: 375px) {
  .products-container, .why-choose-container, .cta-section .cta-container { padding: 0 0.75rem; }
  .product-card { height: 245px; }
  .product-content { padding: 1.25rem; }
}

@media (hover: none) and (pointer: coarse) {
  .feature-card:active, .product-card:active { transform: scale(0.98); }
}

[dir="rtl"] {
  .section-title, .feature-title, .feature-description, .product-title, .cta-section .cta-title, .cta-section .cta-description { direction: rtl; }
}
