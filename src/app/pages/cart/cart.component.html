<main class="cart-page">
  <div class="container">
    <h1 class="page-title">سلة المشتريات</h1>

    <div class="cart-grid">
      <!-- Cart Items Section -->
      <div class="cart-items-section">
        <div *ngFor="let item of cartItems" class="cart-item">
          <img [src]="item.image" [alt]="item.name" class="item-image">

          <div class="item-details">
            <h3 class="item-name">{{ item.name }}</h3>
            <p class="item-price">{{ item.price }} ج.م</p>
          </div>

          <div class="quantity-controls">
            <button
              class="quantity-btn"
              (click)="decreaseQuantity(item)"
              [disabled]="item.quantity <= 1">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M5 12h14"></path>
              </svg>
            </button>
            <span class="quantity-value">{{ item.quantity }}</span>
            <button class="quantity-btn" (click)="increaseQuantity(item)">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="M5 12h14"></path>
                <path d="M12 5v14"></path>
              </svg>
            </button>
          </div>

          <button class="remove-btn" (click)="removeItem(item.id)">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M3 6h18"></path>
              <path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"></path>
              <path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"></path>
              <line x1="10" x2="10" y1="11" y2="17"></line>
              <line x1="14" x2="14" y1="11" y2="17"></line>
            </svg>
          </button>
        </div>

        <div *ngIf="cartItems.length === 0" class="empty-cart">
          <p>سلة المشتريات فارغة</p>
          <a routerLink="/products" class="continue-shopping">متابعة التسوق</a>
        </div>
      </div>

      <!-- Order Summary Section -->
      <div class="order-summary">
        <div class="summary-card">
          <h3 class="summary-title">ملخص الطلب</h3>

          <div class="summary-details">
            <div class="summary-row">
              <span>المجموع الفرعي</span>
              <span>{{ subtotal }} ج.م</span>
            </div>
            <div class="summary-row">
              <span>الشحن</span>
              <span>يحدد عند الدفع</span>
            </div>
          </div>

          <div class="summary-total">
            <span>الإجمالي</span>
            <span class="total-amount">{{ total }} ج.م</span>
          </div>

          <a
            routerLink="/checkout"
            class="checkout-btn"
            [class.disabled]="cartItems.length === 0">
            إتمام الشراء
          </a>

          <a routerLink="/products" class="continue-shopping-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="m12 19-7-7 7-7"></path>
              <path d="M19 12H5"></path>
            </svg>
            <span>متابعة التسوق</span>
          </a>
        </div>
      </div>
    </div>
  </div>
</main>
