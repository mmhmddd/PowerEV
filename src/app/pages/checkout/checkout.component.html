<main class="checkout-page">
  <div class="container">
    <h1 class="page-title">إتمام الطلب</h1>

    <div class="checkout-grid">
      <!-- Shipping Form Section -->
      <div class="shipping-section">
        <div class="form-card">
          <h3 class="form-title">بيانات الشحن</h3>

          <form (ngSubmit)="onSubmit()" #checkoutForm="ngForm" class="shipping-form">
            <div class="form-row">
              <div class="form-group">
                <label class="form-label">الاسم الأول</label>
                <input
                  type="text"
                  [(ngModel)]="shippingData.firstName"
                  name="firstName"
                  required
                  class="form-input">
              </div>

              <div class="form-group">
                <label class="form-label">اسم العائلة</label>
                <input
                  type="text"
                  [(ngModel)]="shippingData.lastName"
                  name="lastName"
                  required
                  class="form-input">
              </div>
            </div>

            <div class="form-group">
              <label class="form-label">رقم الهاتف</label>
              <input
                type="tel"
                [(ngModel)]="shippingData.phone"
                name="phone"
                required
                dir="ltr"
                class="form-input">
            </div>

            <div class="form-group">
              <label class="form-label">العنوان بالتفصيل</label>
              <textarea
                [(ngModel)]="shippingData.address"
                name="address"
                required
                rows="3"
                class="form-textarea"></textarea>
            </div>

            <div class="form-group">
              <label class="form-label">المحافظة</label>
              <select
                [(ngModel)]="shippingData.governorate"
                name="governorate"
                class="form-select">
                <option *ngFor="let gov of governorates" [value]="gov">
                  {{ gov }}
                </option>
              </select>
            </div>

            <button
              type="submit"
              [disabled]="!checkoutForm.form.valid"
              class="submit-btn">
              تأكيد الطلب
            </button>
          </form>
        </div>
      </div>

      <!-- Order Summary Section -->
      <div class="summary-section">
        <div class="summary-card">
          <h3 class="summary-title">ملخص الطلب</h3>

          <div class="items-list">
            <div *ngFor="let item of orderItems" class="order-item">
              <img [src]="item.image" [alt]="item.name" class="item-image">

              <div class="item-info">
                <h4 class="item-name">{{ item.name }}</h4>
                <p class="item-quantity">الكمية: {{ item.quantity }}</p>
              </div>

              <span class="item-price">{{ item.price }} ج.م</span>
            </div>
          </div>

          <div class="summary-footer">
            <div class="total-row">
              <span>الإجمالي الكلي</span>
              <span class="total-amount">{{ totalAmount }} ج.م</span>
            </div>
            <p class="payment-note">* الدفع عند الاستلام متاح لجميع المحافظات</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>
